{
  "title": "AdRequestCreate",
  "type": "object",
  "required": [
    "title",
    "advertiserId",
    "brand",
    "adVendor",
    "categoryId",
    "advertiserIntegrationId",
    "reportType",
    "repeatParticipateTypeId",
    "helpRequestPersonalInfoTypeIds",
    "advertiserCsManagerEmails",
    "targetCookieovenPublisherIds",
    "adActionTypeId",
    "targetOs",
    "adTypeId",
    "startAt",
    "endAt",
    "targetTimes",
    "landingUrl",
    "viewAssets",
    "adSettleTypeId",
    "cost",
    "budget",
    "dailyActionCap",
    "participateExpiredAt",
    "targetAdisonPublisherIds"
  ],
  "properties": {
    "title": {
      "type": "string",
      "minLength": 1,
      "description": "캠페인 제목"
    },
    "advertiserId": {
      "type": "number",
      "minLength": 1,
      "description": "광고주 ID"
    },
    "brand": {
      "type": "string",
      "minLength": 1,
      "description": "브랜드명"
    },
    "adVendor": {
      "type": "string",
      "minLength": 1,
      "description": "거래처"
    },
    "categoryId": {
      "type": "number",
      "minLength": 1,
      "description": "카테고리 ID"
    },
    "advertiserIntegrationId": {
      "type": "number",
      "minLength": 1,
      "description": "광고주 통합 ID"
    },
    "reportType": {
      "type": "number",
      "minLength": 1,
      "description": "리포트 타입"
    },
    "repeatParticipateTypeId": {
      "type": "number",
      "minLength": 1,
      "description": "재참여 타입 ID"
    },
    "helpRequestPersonalInfoTypeIds": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "description": "개인정보 수집 항목 ID 배열"
    },
    "advertiserCsManagerNames": {
      "type": ["string", "null"],
      "description": "광고주 CS 매니저 이름 (선택사항)"
    },
    "advertiserCsManagerEmails": {
      "type": "string",
      "minLength": 1,
      "description": "광고주 CS 매니저 이메일"
    },
    "targetCookieovenPublisherIds": {
      "type": "array",
      "items": {
        "type": "number"
      },
      "minItems": 1,
      "description": "쿠키오븐 매체 ID 배열"
    },
    "adActionTypeId": {
      "type": "number",
      "minLength": 1,
      "description": "광고 액션 타입 ID"
    },
    "targetOs": {
      "type": "array",
      "items": {
        "type": "number",
        "enum": ["Android", "iOS"]
      },
      "minItems": 1,
      "description": "타겟 OS 배열"
    },
    "adTypeId": {
      "type": "number",
      "minLength": 1,
      "description": "광고 타입 ID"
    },
    "startAt": {
      "type": "string",
      "minLength": 1,
      "description": "광고 시작 시간 (ISO 8601 형식)"
    },
    "endAt": {
      "type": "string",
      "minLength": 1,
      "description": "광고 종료 시간 (ISO 8601 형식)"
    },
    "targetTimes": {
      "type": "object",
      "required": ["from", "to"],
      "properties": {
        "from": {
          "type": "string",
          "description": "시작 시간 (HH:MM 형식)"
        },
        "to": {
          "type": "string",
          "description": "종료 시간 (HH:MM 형식)"
        }
      }
    },
    "landingUrl": {
      "type": "object",
      "required": ["default", "android", "ios"],
      "properties": {
        "default": { "type": "string", "pattern": "^(https?://.+)?$" },
        "android": { "type": "string", "pattern": "^(https?://.+)?$" },
        "ios": { "type": "string", "pattern": "^(https?://.+)?$" }
      }
    },
    "viewAssets": {
      "type": "object",
      "required": [
        "thumbnailFeed",
        "thumbnailIcon",
        "title",
        "subtitle",
        "detailImage",
        "navigationTitle",
        "detailTitle",
        "detailSubtitle",
        "callToAction",
        "notice"
      ],
      "properties": {
        "thumbnailFeed": {
          "type": "string",
          "format": "uri",
          "description": "피드 썸네일 이미지 URL"
        },
        "thumbnailIcon": {
          "type": "string",
          "format": "uri",
          "description": "아이콘 이미지 URL"
        },
        "title": {
          "type": "string",
          "minLength": 1,
          "description": "광고 제목"
        },
        "subtitle": {
          "type": "string",
          "minLength": 1,
          "description": "광고 부제목"
        },
        "detailImage": {
          "type": "string",
          "format": "uri",
          "description": "상세 이미지 URL"
        },
        "navigationTitle": {
          "type": "string",
          "minLength": 1,
          "description": "네비게이션 타이틀"
        },
        "detailTitle": {
          "type": "string",
          "minLength": 1,
          "description": "상세 타이틀"
        },
        "detailSubtitle": {
          "type": "string",
          "description": "상세 부제목 (선택사항)"
        },
        "callToAction": {
          "type": "string",
          "description": "CTA 텍스트 (선택사항)"
        },
        "notice": {
          "type": "string",
          "minLength": 1,
          "description": "안내사항"
        }
      }
    },
    "adSettleTypeId": {
      "type": "number",
      "minLength": 1,
      "description": "광고 정산 타입 ID"
    },
    "cost": {
      "type": "number",
      "minLength": 1,
      "description": "단가"
    },
    "minPaymentAmount": {
      "type": "number",
      "description": "최소 지급 금액"
    },
    "budget": {
      "type": "number",
      "minLength": 1,
      "description": "예산"
    },
    "dailyActionCap": {
      "type": "number",
      "minLength": 1,
      "description": "일일 물량 자동 설정"
    },
    "delayTerm": {
      "type": "number",
      "description": "후지급 시간"
    },
    "participateExpiredAt": {
      "type": "number",
      "minLength": 1,
      "description": "광고 참여 후 완료 인정 유효기간(일단위)"
    },
    "targetGenders": {
      "type": ["array", "null"],
      "items": {
        "type": "string",
        "enum": ["남성", "여성", "기타"]
      },
      "description": "타겟 성별 배열 (선택사항)"
    },
    "targetAges": {
      "type": ["object", "null"],
      "properties": {
        "from": {
          "type": "string",
          "description": "시작 나이"
        },
        "to": {
          "type": "string",
          "description": "종료 나이"
        }
      },
      "description": "타겟 나이 범위 (선택사항)"
    },
    "targetAdisonPublisherIds": {
      "type": "object",
      "required": ["mode", "publisherIds"],
      "properties": {
        "mode": {
          "type": "array",
          "items": { "type": "string", "enum": ["ALL", "INCLUDE", "EXCLUDE"] },
          "minItems": 1
        },
        "publisherIds": {
          "type": "array",
          "items": { "type": "number" }
        }
      },
      "allOf": [
        {
          "if": {
            "properties": {
              "mode": { "type": "array", "contains": { "const": "INCLUDE" } }
            }
          },
          "then": {
            "properties": {
              "publisherIds": { "minItems": 1 }
            }
          }
        },
        {
          "if": {
            "properties": {
              "mode": { "type": "array", "contains": { "const": "EXCLUDE" } }
            }
          },
          "then": {
            "properties": {
              "publisherIds": { "minItems": 1 }
            }
          }
        },
        {
          "if": {
            "properties": {
              "mode": { "type": "array", "contains": { "const": "ALL" } }
            }
          },
          "then": {
            "properties": { "publisherIds": { "minItems": 0 } }
          }
        }
      ]
    }
  }
}
